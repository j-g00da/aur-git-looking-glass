# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: Chmouel Boudjnah <chmouel@chmouel.com>

pkgname='ghupload-bin'
pkgver=0.1.1
pkgrel=1
pkgdesc='ghupload - smee.io forwarder in go'
url='https://github.com/chmouel/ghupload'
arch=('aarch64' 'x86_64')
license=('Apache 2.0')
provides=('ghupload')
conflicts=('ghupload')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/chmouel/ghupload/releases/download/v0.1.1/ghupload_0.1.1_Linux_arm64.tar.gz")
sha256sums_aarch64=('5e83a2333ba596fded92082c129863187562616dee7f1bd08bbff63df038168e')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/chmouel/ghupload/releases/download/v0.1.1/ghupload_0.1.1_Linux_x86_64.tar.gz")
sha256sums_x86_64=('d8f9af213016edb0b87d0ccba4a163b8e86db3b98543e6980eadaafe258541a0')

package() {
  # bin
  install -Dm755 "./ghupload" "${pkgdir}/usr/bin/ghupload"

  # license
  install -Dm644 "./LICENSE" "${pkgdir}/usr/share/licenses/ghupload/LICENSE"

  # completions
  mkdir -p "${pkgdir}/usr/share/bash-completion/completions/"
  mkdir -p "${pkgdir}/usr/share/zsh/site-functions/"

  ./ghupload completion zsh > ghupload.zsh
  ./ghupload completion bash > ghupload.bash

  install -Dm644 "ghupload.bash" "${pkgdir}/usr/share/bash-completion/completions/ghupload"
  install -Dm644 "ghupload.zsh" "${pkgdir}/usr/share/zsh/site-functions/_ghupload"
}
