# Generated by debtap
# Maintainer: vcup
# Contributor: vcup
pkgname=peerbanhelper
pkgver=9.0.9
pkgrel=1
pkgdesc="PeerBanHelper is a tool to auto ban peers on the bitorrent network."
arch=('any')
url="https://github.com/PBH-BTN/PeerBanHelper"
license=('GPLv3')
depends=('java-runtime>=21')
backup=('etc/peerbanhelper/config.yml' 'etc/peerbanhelper/profile.yml')
install=${pkgname}.install
source=("https://github.com/PBH-BTN/PeerBanHelper/releases/download/v${pkgver}/peerbanhelper_${pkgver}_all.deb")
sha512sums=('483e5804080c426ebcfbdc32324fd285e268133b5b68989bdbbd0d3f17a7d8948e12100a944036a23606b1dc305e71caf13528eb143d607777c4b344c28319e6')

package() {
  # Extract package data
  tar -xI unzstd -f data.tar.zst -C "${pkgdir}"

  sed 's|/etc/'${pkgname}'|/var/lib/'${pkgname}'|g' -i "${pkgdir}/usr/lib/systemd/system/${pkgname}.service" 

  install -D -m644 "${pkgdir}/usr/share/doc/peerbanhelper/copyright" "${pkgdir}/usr/share/licenses/${pkgname}/LICENSE"
}
