# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: John Mylchreest <jmylchreest at gmail dot com>

pkgname='refind-btrfs-snapshots-bin'
pkgver=0.0.8
pkgrel=1
pkgdesc='Generate rEFInd boot entries for btrfs snapshots'
url='https://github.com/jmylchreest/refind-btrfs-snapshots'
arch=('aarch64' 'x86_64')
license=('GPL3')
provides=('refind-btrfs-snapshots')
conflicts=('refind-btrfs-snapshots')
depends=('btrfs-progs' 'util-linux')
backup=('etc/refind-btrfs-snapshots.conf')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/jmylchreest/refind-btrfs-snapshots/releases/download/v${pkgver}/refind-btrfs-snapshots_${pkgver}_linux_arm64.tar.gz")
sha256sums_aarch64=('71ef280406e598d7612e8aae6b671d5f58933346576eefbc5b5c0ab29d0ed0ef')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/jmylchreest/refind-btrfs-snapshots/releases/download/v${pkgver}/refind-btrfs-snapshots_${pkgver}_linux_amd64.tar.gz")
sha256sums_x86_64=('fd529db6082bdd9c22d5a83bafcd8582b4bb87cf2bab322ccf512340830fbc3a')

package() {
  # binaries
  install -Dm755 ./refind-btrfs-snapshots "${pkgdir}/usr/bin/refind-btrfs-snapshots"

  # configuration
  install -Dm644 ./configs/refind-btrfs-snapshots.yaml "${pkgdir}/etc/refind-btrfs-snapshots.yaml"

  # systemd units
  install -Dm644 ./systemd/refind-btrfs-snapshots.service "${pkgdir}/usr/lib/systemd/system/refind-btrfs-snapshots.service"
  install -Dm644 ./systemd/refind-btrfs-snapshots.path "${pkgdir}/usr/lib/systemd/system/refind-btrfs-snapshots.path"
}
