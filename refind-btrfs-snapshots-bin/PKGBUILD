# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: John Mylchreest <jmylchreest at gmail dot com>

pkgname='refind-btrfs-snapshots-bin'
pkgver=0.0.5
pkgrel=1
pkgdesc='Generate rEFInd boot entries for btrfs snapshots'
url='https://github.com/jmylchreest/refind-btrfs-snapshots'
arch=('aarch64' 'x86_64')
license=('GPL3')
provides=('refind-btrfs-snapshots')
conflicts=('refind-btrfs-snapshots')
depends=('btrfs-progs' 'util-linux')
backup=('etc/refind-btrfs-snapshots.conf')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/jmylchreest/refind-btrfs-snapshots/releases/download/v0.0.5/refind-btrfs-snapshots_0.0.5_linux_arm64.tar.gz")
sha256sums_aarch64=('8c5b9d26f4b02c27a8034776dc0f83ac445f661d8d7298e9bde589a72d9dcd15')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/jmylchreest/refind-btrfs-snapshots/releases/download/v0.0.5/refind-btrfs-snapshots_0.0.5_linux_amd64.tar.gz")
sha256sums_x86_64=('cb6cc842b4b6f538ee20081468f97d971c0b03cd3858744bfb3b6ff1f1d21fa3')

package() {
  # binaries
  install -Dm755 ./refind-btrfs-snapshots "${pkgdir}/usr/bin/refind-btrfs-snapshots"

  # configuration
  install -Dm644 ./configs/refind-btrfs-snapshots.yaml "${pkgdir}/etc/refind-btrfs-snapshots.yaml"

  # systemd units
  install -Dm644 ./systemd/refind-btrfs-snapshots.service "${pkgdir}/usr/lib/systemd/system/refind-btrfs-snapshots.service"
  install -Dm644 ./systemd/refind-btrfs-snapshots.path "${pkgdir}/usr/lib/systemd/system/refind-btrfs-snapshots.path"
}
