# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: John Mylchreest <jmylchreest at gmail dot com>

pkgname='refind-btrfs-snapshots-bin'
pkgver=0.0.7
pkgrel=1
pkgdesc='Generate rEFInd boot entries for btrfs snapshots'
url='https://github.com/jmylchreest/refind-btrfs-snapshots'
arch=('aarch64' 'x86_64')
license=('GPL3')
provides=('refind-btrfs-snapshots')
conflicts=('refind-btrfs-snapshots')
depends=('btrfs-progs' 'util-linux')
backup=('etc/refind-btrfs-snapshots.conf')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/jmylchreest/refind-btrfs-snapshots/releases/download/v0.0.7/refind-btrfs-snapshots_0.0.7_linux_arm64.tar.gz")
sha256sums_aarch64=('e02c65a90b384b045ef4432489994d26d6c0ca5f89a4323cb74ef0fb2b2ac62b')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/jmylchreest/refind-btrfs-snapshots/releases/download/v0.0.7/refind-btrfs-snapshots_0.0.7_linux_amd64.tar.gz")
sha256sums_x86_64=('a843ef367323e8f64041b472419b8b7cc1c076bf6117140add96dcec610806bc')

package() {
  # binaries
  install -Dm755 ./refind-btrfs-snapshots "${pkgdir}/usr/bin/refind-btrfs-snapshots"

  # configuration
  install -Dm644 ./configs/refind-btrfs-snapshots.yaml "${pkgdir}/etc/refind-btrfs-snapshots.yaml"

  # systemd units
  install -Dm644 ./systemd/refind-btrfs-snapshots.service "${pkgdir}/usr/lib/systemd/system/refind-btrfs-snapshots.service"
  install -Dm644 ./systemd/refind-btrfs-snapshots.path "${pkgdir}/usr/lib/systemd/system/refind-btrfs-snapshots.path"
}
