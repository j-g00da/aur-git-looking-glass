# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: Youssef Fathy <youssefessamasu@gmail.com>

pkgname='go-pray-bin'
pkgver=0.1.14
pkgrel=1
pkgdesc='Prayer times CLI to remind you to Go pray'
url='https://github.com/0xzer0x/go-pray'
arch=('x86_64')
license=('GPL-3.0-or-later')
provides=('go-pray')
conflicts=('go-pray')
depends=('alsa-lib')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/0xzer0x/go-pray/releases/download/v0.1.14/go-pray_linux_x86_64.tar.gz")
sha256sums_x86_64=('992b904c0172dfebb81e3f34dd913a1756d9c0dec953639443728164183e983d')

package() {
  # bin
  install -Dm755 ./go-pray "${pkgdir}/usr/bin/go-pray"

  # create temporary config file
  printf 'calculation: { method: "UAQ" }\nlocation: { lat: 0, long: 0 }\n' > tmpconfig.yml

  # completions
  mkdir -p "${pkgdir}/usr/share/bash-completion/completions"
  mkdir -p "${pkgdir}/usr/share/zsh/site-functions"
  mkdir -p "${pkgdir}/usr/share/fish/vendor_completions.d"
  ./go-pray --config tmpconfig.yml completion bash > "${pkgdir}/usr/share/bash-completion/completions/go-pray"
  ./go-pray --config tmpconfig.yml completion zsh > "${pkgdir}/usr/share/zsh/site-functions/_go-pray"
  ./go-pray --config tmpconfig.yml completion fish > "${pkgdir}/usr/share/fish/vendor_completions.d/go-pray.fish"
}
