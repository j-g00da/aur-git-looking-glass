# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: tarampampam <murmur at cats dot rulez>

pkgname='tinifier'
pkgver=5.1.0
pkgrel=1
pkgdesc='CLI tool for compressing images using the TinyPNG'
url='https://github.com/tarampampam/tinifier'
arch=('aarch64' 'x86_64')
license=('MIT')
provides=('tinifier')
conflicts=('tinifier')
makedepends=('go')
source=("${pkgname}_${pkgver}.tar.gz::https://github.com/tarampampam/tinifier/releases/download/v5.1.0/tinifier_v5.1.0_sources.tar.gz")
sha256sums=('9542153b5e132307b875a3cae1d48d0deabc641fe84fcb26bd27aea79ad9b2de')
prepare() {
  go mod download
}
build() {
  go generate -skip readme ./...

  CGO_ENABLED=0 go build \
  -trimpath \
  -ldflags "-s -w -X gh.tarampamp.am/tinifier/v5/internal/version.version=${pkgver}" \
  -o ./tinifier \
  ./cmd/tinifier/
}
package() {
  install -Dm755 "./tinifier" "$pkgdir/usr/bin/tinifier"
}
