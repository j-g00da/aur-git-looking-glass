# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: tarampampam <murmur at cats dot rulez>

pkgname='tinifier'
pkgver=5.1.1
pkgrel=1
pkgdesc='CLI tool for compressing images using the TinyPNG'
url='https://github.com/tarampampam/tinifier'
arch=('aarch64' 'x86_64')
license=('MIT')
provides=('tinifier')
conflicts=('tinifier')
makedepends=('go')
source=("${pkgname}_${pkgver}.tar.gz::https://github.com/tarampampam/tinifier/releases/download/v5.1.1/tinifier_v5.1.1_sources.tar.gz")
sha256sums=('b556332222fe601a29cdb83f351b9f3d1b1bc1d6fc851e94d9b4e8ba64722e4f')
prepare() {
  go mod download
}
build() {
  go generate -skip readme ./...

  CGO_ENABLED=0 go build \
  -trimpath \
  -ldflags "-s -w -X gh.tarampamp.am/tinifier/v5/internal/version.version=${pkgver}" \
  -o ./tinifier \
  ./cmd/tinifier/
}
package() {
  install -Dm755 "./tinifier" "$pkgdir/usr/bin/tinifier"
}
