# Maintainer: Konstantin KÃ¶hring <konstantin.koehring@gmail.com>
# PKGBUILD generated by pipman
# Python package author: TheWeirdDev <alireza6677@gmail.com>

pkgname=python-bluetooth-battery
pkgver=1.3.2
pkgrel=4
pkgdesc="A python script to get battery level from Bluetooth headsets"
arch=(any)
url="https://pypi.org/project/bluetooth-battery"
license=(GPL-3.0)
depends=('python-pybluez')
makedepends=("python" "python-pip")

build() {
  PYTHON_KEYRING_BACKEND=keyring.backends.null.Keyring pip install --no-deps --target="bluetooth-battery" bluetooth-battery==1.3.2
}
package() {
  sitepackages=$(python -c "import site; print(site.getsitepackages()[0])")
  mkdir -p $pkgdir/"$sitepackages"
  cp -r $srcdir/bluetooth-battery/* $pkgdir/"$sitepackages"
  mkdir -p $pkgdir/usr/bin/
  cp $srcdir/bluetooth-battery/bin/bluetooth_battery $pkgdir/usr/bin/bluetooth_battery
}
