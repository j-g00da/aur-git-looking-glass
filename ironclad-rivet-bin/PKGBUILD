# Generated by debtap
# Maintainer: Albert Latham <me@albertlatham.com>
pkgname=ironclad-rivet-bin
pkgver=1.11.3
pkgrel=2
pkgdesc="Rivet, the IDE for creating complex AI agents and prompt chaining, and embedding it in your application."
arch=('i686' 'x86_64')
url="https://github.com/Ironclad/rivet"
license=('MIT')
depends=('cairo' 'desktop-file-utils' 'gdk-pixbuf2' 'glib2' 'gtk3' 'hicolor-icon-theme' 'libsoup' 'openssl-1.1' 'pango' 'webkit2gtk')
options=('!strip' '!emptydirs')
install=${pkgname}.install
makedepends=('curl' 'jq')
source_i686=("https://github.com/Ironclad/rivet/releases/download/app-v${pkgver}/rivet.deb")
source_x86_64=("https://github.com/Ironclad/rivet/releases/download/app-v${pkgver}/rivet_${pkgver}_amd64.deb")
sha512sums_i686=('28da4252f2fe86c21a391c16cf50ffb4e18271ee173f928481943788733fd776d9eacfdef12584c55e783cefe3e17e80b39f4a09a87162546aa18f31d801ee63')
sha512sums_x86_64=('28da4252f2fe86c21a391c16cf50ffb4e18271ee173f928481943788733fd776d9eacfdef12584c55e783cefe3e17e80b39f4a09a87162546aa18f31d801ee63')

pkgver() {
	curl -s "https://api.github.com/repos/Ironclad/rivet/releases/latest" | 
	jq -r '.tag_name' | sed 's/^app-v//'
}

package(){
	tar -xz -f data.tar.gz -C "${pkgdir}"
}
