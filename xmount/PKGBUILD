# Maintainer: codingTornado <milopezv at gmail dot com>
# Maintainer: watashi <zejun dot wu at gmail dot com>
# Contributor: kfgz <kfgz at interia pl>

pkgname=xmount
pkgver=1.2.0
pkgrel=1
pkgdesc="Tool to crossmount between multiple input and output harddisk image files"
arch=('i686' 'x86_64')
license=('GPL')
url="https://www.sits.lu"
depends=('fuse')
makedepends=('make' 'cmake' 'gcc')
options=(!makeflags)
source=(https://code.sits.lu/foss/xmount/-/archive/${pkgver}/${pkgname}-${pkgver}.tar.gz)
sha256sums=('abded7b53646c5d56ab9caf30473d75d0deb543e8262cadf2af572da3e1d127d')

build() {
  cd "${srcdir}"/${pkgname}-${pkgver}
  mkdir build
  cd build
  cmake -DCMAKE_POLICY_VERSION_MINIMUM=3.5 -DCMAKE_INSTALL_PREFIX=/usr -DCMAKE_BUILD_TYPE=Release ..
  make
}

package() {
  cd "${srcdir}"/${pkgname}-${pkgver}/build
  make DESTDIR="${pkgdir}" install
}
