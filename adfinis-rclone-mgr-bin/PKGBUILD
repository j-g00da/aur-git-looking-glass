# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: jonahz <jonah.zuercher@adfinis.com>

pkgname='adfinis-rclone-mgr-bin'
pkgver=2.2.0
pkgrel=1
pkgdesc='Configure and manage rclone mounts for Google Drive'
url='https://github.com/adfinis/adfinis-rclone-mgr/'
arch=('x86_64')
license=('GPL3')
provides=('adfinis-rclone-mgr')
conflicts=('adfinis-rclone-mgr')
depends=('rclone' 'python-nautilus' 'xclip' 'zenity' 'python-httpx')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/adfinis/adfinis-rclone-mgr/releases/download/v2.2.0/adfinis-rclone-mgr-v2.2.0-linux-amd64.tar.gz")
sha256sums_x86_64=('b9d166a8a39c7c36dbe494954ef2e5f350a9e830ac9b8ea7200328637aef4afd')

package() {
  cd ./adfinis-rclone-mgr-v2.2.0-linux-amd64
  # bin
  install -Dm755 "./adfinis-rclone-mgr" "${pkgdir}/usr/bin/adfinis-rclone-mgr"
  # license
  install -Dm644 "./LICENSE" "${pkgdir}/usr/share/licenses/adfinis-rclone-mgr/LICENSE"
  # systemd
  install -Dm644 "./assets/adfinis-rclone-mgr@.service" "${pkgdir}/usr/lib/systemd/user/adfinis-rclone-mgr@.service"
  install -Dm644 "./assets/rclone@.service" "${pkgdir}/usr/lib/systemd/user/rclone@.service"
  # nautilus extension
  install -Dm644 "./assets/google_drive_opener.py" "${pkgdir}/usr/share/nautilus-python/extensions/google_drive_opener.py"
  # desktop integration
  install -Dm644 "./assets/adfinis-rclone-mgr.desktop" "${pkgdir}/usr/share/applications/adfinis-rclone-mgr.desktop"
  install -Dm644 "./assets/adfinis-rclone-mgr.png" "${pkgdir}/usr/share/icons/hicolor/512x512/apps/adfinis-rclone-mgr.png"
  # file exclude list
  mkdir -p "${pkgdir}/usr/share/adfinis-rclone-mgr/"
  install -Dm644 "./assets/file-exclude-list.txt" "${pkgdir}/usr/share/adfinis-rclone-mgr/file-exclude-list.txt"
  # completions
  mkdir -p "${pkgdir}/usr/share/bash-completion/completions/"
  mkdir -p "${pkgdir}/usr/share/zsh/site-functions/"
  mkdir -p "${pkgdir}/usr/share/fish/vendor_completions.d/"
  install -Dm644 "./completions/adfinis-rclone-mgr.bash" "${pkgdir}/usr/share/bash-completion/completions/adfinis-rclone-mgr"
  install -Dm644 "./completions/adfinis-rclone-mgr.zsh" "${pkgdir}/usr/share/zsh/site-functions/_adfinis-rclone-mgr"
  install -Dm644 "./completions/adfinis-rclone-mgr.fish" "${pkgdir}/usr/share/fish/vendor_completions.d/adfinis-rclone-mgr.fish"
  # manpages
  install -Dm644 "./manpages/adfinis-rclone-mgr.1.gz" "${pkgdir}/usr/share/man/man1/adfinis-rclone-mgr.1.gz"
  # readme
  mkdir -pv "${pkgdir}/usr/share/doc/adfinis-rclone-mgr/"
  install -Dm644 README* "${pkgdir}/usr/share/doc/adfinis-rclone-mgr/"
}
