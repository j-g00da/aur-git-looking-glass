# Maintainer: Shalygin Konstantin <k0ste@k0ste.ru>
# Contributor: Shalygin Konstantin <k0ste@k0ste.ru>

_name='fleep'
pkgbase='python-fleep'
pkgname=('python-fleep')
pkgver='1.0.1'
pkgrel='1'
pkgdesc='File format determination library'
arch=('any')
url="https://github.com/floyernick/${_name}-py"
depends=('python')
makedepends=('python-setuptools' 'python-build' 'python-installer' 'python-wheel')
license=('MIT')
source=("https://files.pythonhosted.org/packages/source/f/${_name}/${_name}-${pkgver}.tar.gz"
  "LICENSE")
sha256sums=('c8f62b258ee5364d7f6c1ed1f3f278e99020fc3f0a60a24ad1e10846e31d104c'
            'ef3a6eea5870c9126c94348a2282947a77c242dee2da372d23cc16d4f014edc6')

build() {
  cd "$_name-$pkgver"
  python -m build --wheel --no-isolation
}
package() {
  cd "$srcdir/$_name-$pkgver"
  python -m installer --destdir="$pkgdir" dist/*.whl
  cd ..
  install -Dm644 "LICENSE" "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
}
