# PKGBUILD generated by pipman
# Python package author: Google Inc. <jbms@google.com>
# Maintainer: Magi3r <magier dot mit dot f3erball at gmail dot com>
pkgname=python-tensorstore-bin
_name=tensorstore
pkgver=0.1.73
pkgrel=1
pkgdesc='Library for reading and writing large multi-dimensional arrays.'
arch=('x86_64' 'aarch64')
url='https://github.com/google/tensorstore'
license=('Apache')
depends=(
    'blosc'
    'brotli'
    'bzip2'
    'c-ares'
    'curl'
    'libavif'
    'libjpeg-turbo'
    'libnghttp2'
    'libpng'
    'libtiff'
    'libwebp'
    'lz4'
    'pybind11'
    'python-ml-dtypes'
    'python-numpy'
    'snappy'
    'xz'
    'zlib'
    'zstd'
)
makedepends=("python" "python-pip")
provides=("python-tensorstore")
conflicts=("python-tensorstore")

build() {
  pip install --no-deps --target="tensorstore" tensorstore==$pkgver
}
package() {
  sitepackages=$(python -c "import site; print(site.getsitepackages()[0])")
  mkdir -p $pkgdir/"$sitepackages"
  cp -r $srcdir/tensorstore/* $pkgdir/"$sitepackages"
}
