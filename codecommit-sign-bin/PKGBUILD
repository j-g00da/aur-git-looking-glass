# This file was generated by GoReleaser. DO NOT EDIT.
# Maintainer: Paul T <paul dot t at gembaadvantage dot com>

pkgname='codecommit-sign-bin'
pkgver=1.4.0
pkgrel=1
pkgdesc='Generate a signed AWS V4 CodeCommit URL directly from an IAM role. No dedicated CodeCommit credentials needed'
url='https://github.com/gembaadvantage/codecommit-sign'
arch=('aarch64' 'armv7h' 'i686' 'x86_64')
license=('MIT')
provides=('codecommit-sign')
conflicts=('codecommit-sign')

source_aarch64=("${pkgname}_${pkgver}_aarch64.tar.gz::https://github.com/gembaadvantage/codecommit-sign/releases/download/v1.4.0/codecommit-sign_1.4.0_linux-arm64.tar.gz")
sha256sums_aarch64=('0cbaf480c380db6f6a59de0fa93afd2944f99c21e68352da559e1e0cad04e981')

source_armv7h=("${pkgname}_${pkgver}_armv7h.tar.gz::https://github.com/gembaadvantage/codecommit-sign/releases/download/v1.4.0/codecommit-sign_1.4.0_linux-arm.tar.gz")
sha256sums_armv7h=('a4ac07d680aee7ba0ecdf116310e0148cca924bf95ef211f8001077d0a62d25e')

source_i686=("${pkgname}_${pkgver}_i686.tar.gz::https://github.com/gembaadvantage/codecommit-sign/releases/download/v1.4.0/codecommit-sign_1.4.0_linux-i386.tar.gz")
sha256sums_i686=('e8994f85865709644bc8f5c44425257cd848d486e95501be09f43594460eeb35')

source_x86_64=("${pkgname}_${pkgver}_x86_64.tar.gz::https://github.com/gembaadvantage/codecommit-sign/releases/download/v1.4.0/codecommit-sign_1.4.0_linux-x86_64.tar.gz")
sha256sums_x86_64=('2dec529867db98cb4dcf60ed37f18ccbfbc88c2428e59ec252b51d164d34894f')

package() {
  # bin
  install -Dm755 "./codecommit-sign" "${pkgdir}/usr/bin/codecommit-sign"

  # license
  install -Dm644 "./LICENSE.md" "${pkgdir}/usr/share/licenses/codecommit-sign/LICENSE"

  # completions
  mkdir -p "${pkgdir}/usr/share/bash-completion/completions/"
  mkdir -p "${pkgdir}/usr/share/zsh/site-functions/"
  mkdir -p "${pkgdir}/usr/share/fish/vendor_completions.d/"
  install -Dm644 "./completions/codecommit-sign.bash" "${pkgdir}/usr/share/bash-completion/completions/codecommit-sign"
  install -Dm644 "./completions/codecommit-sign.zsh" "${pkgdir}/usr/share/zsh/site-functions/_codecommit-sign"
  install -Dm644 "./completions/codecommit-sign.fish" "${pkgdir}/usr/share/fish/vendor_completions.d/codecommit-sign.fish"

  # manpages
  install -Dm644 "./manpages/codecommit-sign.1.gz" "${pkgdir}/usr/share/man/man1/codecommit-sign.1.gz"
}
